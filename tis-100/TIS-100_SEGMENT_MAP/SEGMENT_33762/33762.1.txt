@0
##NOMINAL VERSION

MOV ACC, RIGHT
MOV UP, ACC
MOV ACC, RIGHT

@1
# TRANSFERT IN.2
MOV ACC, RIGHT
MOV UP, ACC
MOV ACC, RIGHT

# TRANSFERT IN.1
MOV LEFT, RIGHT
MOV LEFT, RIGHT

@2
# TRANSFERT IN.4
MOV RIGHT, DOWN
MOV RIGHT, DOWN

# TRANSFERT IN.3
MOV ACC, DOWN
MOV UP, ACC
MOV ACC, DOWN

# TRANSFERT IN.2
MOV LEFT, DOWN
MOV LEFT, DOWN
# TRANSFERT IN.1
MOV LEFT, DOWN
MOV LEFT, DOWN

@3
MOV ACC, LEFT
MOV UP, ACC
MOV ACC, LEFT

@4


@5


@6
MOV 4, ACC
LOOP:
SAV
MOV UP ACC
SUB UP
JLZ MATCHING
MOV 0, DOWN
SWP
JMP END_TEST
MATCHING:
SWP
MOV ACC, DOWN
END_TEST:
SUB 1
JNZ LOOP

@7


@8


@9
MOV UP, ACC
ADD UP
ADD UP
ADD UP
MOV ACC, DOWN

@10

